user nginx;
worker_processes auto;

error_log /var/log/nginx/error.log warn;
pid /var/run/nginx.pid;


events {

	worker_connections 1000000;
}


http {
	allow 5.10.240.0/20;
	allow 5.44.32.0/21;
	allow 5.133.224.0/20;
	allow 5.134.48.0/20;
	allow 5.178.0.0/20;
	allow 5.182.184.0/24;
	allow 5.191.0.0/16;
	allow 5.197.0.0/16;
	allow 5.250.192.0/19;
	allow 5.252.48.0/22;
	allow 31.7.78.0/23;
	allow 31.170.224.0/19;
	allow 31.171.0.0/17;
	allow 37.18.58.0/24;
	allow 37.26.0.0/18;
	allow 37.32.64.0/20;
	allow 37.61.0.0/17;
	allow 37.72.128.0/20;
	allow 37.114.128.0/18;
	allow 37.128.200.0/21;
	allow 45.136.164.0/22;
	allow 45.145.163.0/24;
	allow 46.18.64.0/21;
	allow 46.22.224.0/20;
	allow 46.23.96.0/20;
	allow 46.32.160.0/19;
	allow 46.228.176.0/20;
	allow 57.88.16.0/20;
	allow 62.212.224.0/19;
	allow 62.217.128.0/19;
	allow 77.81.56.0/21;
	allow 77.81.248.0/21;
	allow 77.244.112.0/20;
	allow 78.109.48.0/21;
	allow 78.111.48.0/20;
	allow 80.69.48.0/20;
	allow 81.17.80.0/20;
	allow 81.21.80.0/20;
	allow 82.194.0.0/19;
	allow 85.132.0.0/17;
	allow 85.158.144.0/21;
	allow 85.202.202.0/24;
	allow 88.151.192.0/21;
	allow 89.37.16.0/21;
	allow 89.37.32.0/21;
	allow 89.41.4.0/22;
	allow 89.147.192.0/18;
	allow 89.219.36.0/22;
	allow 89.219.40.0/21;
	allow 89.219.48.0/20;
	allow 89.219.132.0/23;
	allow 89.219.155.0/24;
	allow 89.219.156.0/22;
	allow 89.219.160.0/24;
	allow 89.219.163.0/24;
	allow 89.219.164.0/22;
	allow 89.219.169.0/24;
	allow 89.219.170.0/23;
	allow 89.219.172.0/22;
	allow 89.219.176.0/20;
	allow 91.132.192.0/22;
	allow 91.135.240.0/20;
	allow 91.191.192.0/20;
	allow 91.220.90.0/24;
	allow 91.227.184.0/24;
	allow 91.234.235.0/24;
	allow 91.242.0.0/19;
	allow 92.39.80.0/20;
	allow 93.88.80.0/20;
	allow 93.184.224.0/20;
	allow 94.20.0.0/16;
	allow 95.86.128.0/18;
	allow 103.119.110.0/23;
	allow 104.250.177.0/24;
	allow 109.110.160.0/24;
	allow 109.110.167.0/24;
	allow 109.110.171.0/24;
	allow 109.110.176.0/24;
	allow 109.110.178.0/23;
	allow 109.110.183.0/24;
	allow 109.110.184.0/22;
	allow 109.110.190.0/23;
	allow 109.122.223.0/24;
	allow 109.127.0.0/18;
	allow 109.205.160.0/21;
	allow 109.205.208.0/21;
	allow 109.235.192.0/21;
	allow 109.237.112.0/20;
	allow 109.239.16.0/20;
	allow 130.0.8.0/21;
	allow 131.117.128.0/20;
	allow 134.19.208.0/20;
	allow 149.126.112.0/20;
	allow 149.255.144.0/20;
	allow 156.109.197.224/29;
	allow 157.167.76.0/24;
	allow 158.181.32.0/20;
	allow 160.202.24.0/22;
	allow 164.215.96.0/21;
	allow 172.68.30.0/24;
	allow 176.28.80.0/21;
	allow 178.76.0.0/18;
	allow 178.171.46.0/23;
	allow 178.237.64.0/20;
	allow 185.12.16.0/22;
	allow 185.18.244.0/22;
	allow 185.24.255.0/24;
	allow 185.26.184.0/22;
	allow 185.30.88.0/22;
	allow 185.32.44.0/22;
	allow 185.34.72.0/22;
	allow 185.34.100.0/22;
	allow 185.36.200.0/22;
	allow 185.40.32.0/22;
	allow 185.40.156.0/22;
	allow 185.40.176.0/22;
	allow 185.41.200.0/22;
	allow 185.43.188.0/22;
	allow 185.47.4.0/22;
	allow 185.52.128.0/22;
	allow 185.55.36.0/22;
	allow 185.80.172.0/22;
	allow 185.81.80.0/21;
	allow 185.81.216.0/22;
	allow 185.83.124.0/22;
	allow 185.86.164.32/28;
	allow 185.86.164.48/29;
	allow 185.86.164.56/30;
	allow 185.86.164.60/31;
	allow 185.86.164.62/32;
	allow 185.91.208.0/22;
	allow 185.92.224.0/22;
	allow 185.96.124.0/22;
	allow 185.105.196.0/22;
	allow 185.112.192.0/22;
	allow 185.118.48.0/22;
	allow 185.129.0.0/22;
	allow 185.129.92.0/22;
	allow 185.138.12.0/22;
	allow 185.143.196.0/22;
	allow 185.146.112.0/22;
	allow 185.147.24.0/24;
	allow 185.151.9.232/30;
	allow 185.161.224.0/22;
	allow 185.193.132.0/22;
	allow 185.220.180.0/22;
	allow 185.222.92.0/22;
	allow 185.233.180.0/22;
	allow 188.64.8.0/21;
	allow 188.72.128.0/18;
	allow 188.227.208.0/20;
	allow 188.253.128.0/17;
	allow 193.5.1.0/24;
	allow 193.8.62.0/23;
	allow 193.8.72.0/23;
	allow 193.41.128.0/24;
	allow 194.61.76.0/24;
	allow 194.135.152.0/21;
	allow 194.135.160.0/19;
	allow 195.26.8.0/23;
	allow 195.28.6.0/23;
	allow 195.216.230.0/24;
	allow 212.38.109.128/28;
	allow 212.47.128.0/19;
	allow 213.154.0.0/19;
	allow 213.172.64.0/19;
	allow 213.182.194.0/24;
	allow 217.14.96.0/20;
	allow 217.25.16.0/20;
	allow 217.64.16.0/20;
	allow 217.168.176.0/20;
	deny all;
	include /etc/nginx/mime.types;
	default_type application/octet-stream;

	log_format main '$remote_addr - $remote_user [$time_local] "$request" '
	'$status $body_bytes_sent "$http_referer" '
	'"$http_user_agent" "$http_x_forwarded_for"';

	access_log /var/log/nginx/access.log main;

	sendfile on;
	#tcp_nopush     on;

	keepalive_timeout 180;
########New Config###

	proxy_buffering on;
	proxy_buffer_size 8k;
	proxy_buffers 2048 8k;
	send_timeout 120;

######END#####

	#gzip  on;
	include /etc/nginx/conf.d/*.conf;

	# aditional
	client_max_body_size 1024M;

}
